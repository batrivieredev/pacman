{% extends "base.html" %}

{% block title %}Administration - Pacman{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block content %}
<div class="admin-page">
  <div class="admin-container">
    <h1 class="text-center mb-4">Gestion des utilisateurs</h1>
    <div class="table-responsive">
      <table class="table table-dark table-striped table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nom</th>
            <th>Email</th>
            <th>Admin</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ 'Oui' if user.is_admin else 'Non' }}</td>
            <td class="actions">
              <a href="{{ url_for('admin.edit_user', user_id=user.id) }}" class="btn btn-warning btn-sm">Modifier</a>
              <form action="{{ url_for('admin.delete_user', user_id=user.id) }}" method="post" class="d-inline">
                <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Supprimer cet utilisateur ?')">
                  Supprimer
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="text-center mt-4">
      <a href="{{ url_for('admin.create_user') }}" class="btn btn-success">Cr√©er un utilisateur</a>
    </div>
  </div>
</div>
{% endblock %}
